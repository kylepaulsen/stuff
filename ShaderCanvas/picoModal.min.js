window.picoModal=function(k,f){var n=function(){var a=[];return{watch:function(b){a.push(b)},trigger:function(){for(var b=0;b<a.length;b++)k.setTimeout(a[b],1)}}},l=function(a){var b=f.createElement("div");(a||f.body).appendChild(b);var c={elem:b,child:function(){return l(b)},stylize:function(a){a=a||{};"undefined"!==typeof a.opacity&&(a.filter="alpha(opacity="+100*a.opacity+")");for(var e in a)a.hasOwnProperty(e)&&(b.style[e]=a[e]);return c},clazz:function(a){b.className+=a;return c},html:function(a){b.innerHTML= a;return c},getWidth:function(){var a=getComputedStyle(b.childNodes[0]);a&&"none"===a.display&&(b.childNodes[0].style.display="block");return b.clientWidth},onClick:function(a){b.attachEvent?b.attachEvent("onclick",a):b.addEventListener("click",a);return c},hide:function(){b.style.display="none";return c},show:function(){b.style.display="block";return c},destroy:function(){f.body.removeChild(b);return c}};return c},r=function(a){var b=n(),c=a("autoOpen",!0);a=l().clazz("pico-overlay").stylize({display:c? "block":"none",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:1E4}).stylize(a("overlayStyles",{opacity:0.5,background:"#000"})).onClick(b.trigger);return{elem:a.elem,destroy:a.destroy,hide:a.hide,show:a.show,onClick:b.watch}};return function(a){function b(b,c){return void 0===a[b]?c:a[b]}if("string"===typeof a||a instanceof HTMLElement)a={content:a};var c=r(b),f=n(),e=!0,g=null;a.content instanceof HTMLElement&&(g=a.content,e=!1);var k=b("autoOpen",!0),d=l().clazz("pico-content").stylize({display:"block", visibility:"hidden",position:"fixed",zIndex:10001,left:"50%",top:"50px"});g?d.elem.appendChild(g):d.html(a.content);var h=b("width",d.getWidth());d.stylize({display:"none"});d.stylize({visibility:"visible"});d.stylize({width:h+"px",margin:"0 0 0 "+(-(h/2+20)+"px")}).stylize(b("modalStyles",{backgroundColor:"white",padding:"20px",borderRadius:"5px"}));var h=function(){f.trigger();c.destroy();d.destroy()},p=function(){f.trigger();c.hide();d.hide()},q=function(){c.show();d.show();if(g){var a=getComputedStyle(g); a&&"none"===a.display&&(g.style.display="block")}};k&&q();e=b("autoDestroy",e)?h:p;if(b("overlayClose",!0))c.onClick(e);var m;b("closeButton",!0)&&(m=d.child().html(b("closeHtml","&#xD7;")).clazz("pico-close").stylize(b("closeStyles",{borderRadius:"2px",cursor:"pointer",height:"15px",width:"15px",position:"absolute",top:"5px",right:"5px",fontSize:"16px",textAlign:"center",lineHeight:"15px",background:"#CCC"})).onClick(e));return{modalElem:d.elem,closeElem:m?m.elem:null,overlayElem:c.elem,close:p, open:q,destroy:h,onClose:f.watch}}}(window,document);